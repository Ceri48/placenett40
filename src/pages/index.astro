---
import Layout from '../templates/Layout.astro';
import { strapiGet } from '../lib/strapi';

const { data } = await strapiGet<{ data: any }>('/api/accueil', { query: { populate: 'seo' } });
const seo = data?.attributes?.seo || {};
const site = Astro.site?.origin || 'https://www.exemple.com';
const canonical = seo.canonicalURL || `${site}/`;
---

<Layout
	title={seo.metaTitle || 'Accueil'}
	description={seo.metaDescription || ''}
	canonical={canonical}
	noindex={seo.noindex}
>
	<main class="prose mx-auto">
		<h1>Bienvenue</h1>
	</main>
</Layout>

